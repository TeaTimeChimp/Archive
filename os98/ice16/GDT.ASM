	.386p
	ifndef	??version
?debug	macro
	endm
publicdll macro	name
	public	name
	endm
	endif
	?debug	V 300h
	?debug	S "GDT.CPP"
	?debug	C E930853124074744542E435050
	?debug	C E960613124054744542E48
	?debug	C E9F37031240444542E48
	?debug	C E98B7E32240A43505554595045532E48
	?debug	C E9D3683124064D41494E2E48
	?debug	C E91D7F3224054150502E48
	?debug	C E9017E3224054350552E48
	?debug	C E9B0A82E2406424F4F4C2E48
	?debug	C E98B7E32240A43505554595045532E48
	?debug	C E960613124054744542E48
	?debug	C E980261D1F18433A5C424334355C494E434C5544455C4D414C4C4F+
	?debug	C 432E48
	?debug	C E980261D1F17433A5C424334355C494E434C5544455C414C4C4F43+
	?debug	C 2E48
	?debug	C E980261D1F17433A5C424334355C494E434C5544455C5F44454653+
	?debug	C 2E48
	?debug	C E980261D1F17433A5C424334355C494E434C5544455C5F4E554C4C+
	?debug	C 2E48
	?debug	C E9947E32240743505533322E48
	?debug	C E98B7E32240A43505554595045532E48
_TEXT	segment byte public use16 'CODE'
_TEXT	ends
DGROUP	group	_DATA,_BSS
	assume	cs:_TEXT,ds:DGROUP
_DATA	segment word public use16 'DATA'
d@	label	byte
d@w	label	word
_DATA	ends
_BSS	segment word public use16 'BSS'
b@	label	byte
b@w	label	word
_BSS	ends
_TEXT	segment byte public use16 'CODE'
	?debug	C E801074744542E43505030853124
   ;	
   ;	SELECTOR CGDT::AddSegment( SEGTYPE iType, RING iRing, ADDRESS iBase, DWORD iLimit )
   ;	
	?debug	L 14
	assume	cs:_TEXT
@CGDT@AddSegment$qucuculul	proc	near
	?debug	B
	enter	2,0
	push	si
	push	di
	?debug	C F81A4043474454404164645365676D656E742471+
	?debug	C 75637563756C756C
	?debug	C E318000200151904
	?debug	C E606694C696D69740C0A0E00000569426173650C+
	?debug	C 0A0A0000056952696E67080A0800000569547970+
	?debug	C 65080A060000047468697318040600
	mov	si,word ptr [bp+4]
	?debug	B
	cmp	word ptr ___brklvl,sp
	jb	short @1@86
	call	near ptr N_OVERFLOW@
@1@86:
   ;	
   ;	{
   ;		WORD iSelector;
   ;		CCPU* pCPU;
   ;	
   ;		// Assume failure.
   ;		iSelector = 0;
   ;	
	?debug	L 20
	xor	di,di
   ;	
   ;	
   ;		// Get and validat CPU owner of table.
   ;		pCPU = CPU();
   ;	
	?debug	L 23
	push	si
	call	near ptr @CDescriptorTable@CPU$qv
	pop	cx
	mov	word ptr [bp-2],ax
   ;	
   ;		if( pCPU!=NULL )
   ;	
	?debug	L 24
	cmp	word ptr [bp-2],0
	je	short @1@142
   ;	
   ;		{
   ;			// Call inherited add segment method.
   ;			iSelector = CDescriptorTable::AddSegment( iType, iRing, iBase, iLimit );
   ;	
	?debug	L 27
	push	dword ptr [bp+14]
	push	dword ptr [bp+10]
	mov	al,byte ptr [bp+8]
	push	ax
	mov	al,byte ptr [bp+6]
	push	ax
	push	si
	call	near ptr @CDescriptorTable@AddSegment$qucuculul
	add	sp,14
	mov	di,ax
   ;	
   ;	
   ;			// Update global descriptor table register.
   ;			pCPU->GDTR( Base(), Limit() );
   ;	
	?debug	L 30
	push	si
	call	near ptr @CDescriptorTable@Limit$qv
	pop	cx
	push	ax
	push	si
	call	near ptr @CDescriptorTable@Base$qv
	pop	cx
	push	dx
	push	ax
	push	word ptr [bp-2]
	call	near ptr @CCPU@GDTR$qulus
	add	sp,8
@1@142:
   ;	
   ;		}
   ;	
   ;		// Return new selector.
   ;		return iSelector;
   ;	
	?debug	L 34
	mov	ax,di
	jmp	short @1@170
@1@170:
   ;	
   ;	}
   ;	
	?debug	L 35
	pop	di
	pop	si
	leave	
	ret	
	?debug	C E31A000200151B04
	?debug	C E604704350551A02FEFF00096953656C6563746F+
	?debug	C 720A040700047468697318040600056954797065+
	?debug	C 080A060000056952696E67080A08000005694261+
	?debug	C 73650C0A0A000006694C696D69740C0A0E0000
	?debug	E
	?debug	E
@CGDT@AddSegment$qucuculul	endp
	?debug	C E9
	?debug	C FA00000000
_TEXT	ends
_DATA	segment word public use16 'DATA'
s@	label	byte
_DATA	ends
_TEXT	segment byte public use16 'CODE'
_TEXT	ends
	?debug	C E31C104344657363726970746F725461626C6506+
	?debug	C 002E03
	?debug	C ED00030000010000
	?debug	C E31E0B5344657363726970746F7208002E04
	?debug	C ED000400000F0100
	?debug	C E31F0002001E1E
	?debug	C E31D000200151E04
	?debug	C E3200000002D1D00011C00234043446573637269+
	?debug	C 70746F725461626C6540416C6C6F636174655461+
	?debug	C 626C6524717573
	?debug	C E3220000002D0100011C00374043446573637269+
	?debug	C 70746F725461626C654053657444657363726970+
	?debug	C 746F7224717031315344657363726970746F7275+
	?debug	C 637563756C756C
	?debug	C E3240000002D0100011C00394043446573637269+
	?debug	C 70746F725461626C65405365744D656D6F727944+
	?debug	C 657363726970746F722471703131534465736372+
	?debug	C 6970746F72756C756C
	?debug	C E326000200151C04
	?debug	C E3270000002D2600011C001A4043446573637269+
	?debug	C 70746F725461626C65402462637472247176
	?debug	C E3290000002D0100011C001A4043446573637269+
	?debug	C 70746F725461626C65402462647472247176
	?debug	C E32B0000002D0A00011C00264043446573637269+
	?debug	C 70746F725461626C65404164645365676D656E74+
	?debug	C 247175637563756C756C
	?debug	C E32D0000002D0C00011C00194043446573637269+
	?debug	C 70746F725461626C654042617365247176
	?debug	C E32F0000002D1A00011C00184043446573637269+
	?debug	C 70746F725461626C6540435055247176
	?debug	C E3310000002D0100011C001D4043446573637269+
	?debug	C 70746F725461626C654043505524717034434350+
	?debug	C 55
	?debug	C E3330000002D0A00011C001A4043446573637269+
	?debug	C 70746F725461626C65404C696D6974247176
	?debug	C E319044347445406002E01
	?debug	C ED000100002500010300
	?debug	C E3350000002D0A000119001A4043474454404164+
	?debug	C 645365676D656E74247175637563756C756C
	?debug	C E31B044343505542002E02
	?debug	C ED00020000270000
	?debug	C E337106370755F61726368697465637475726502+
	?debug	C 0022000080FF7F54
	?debug	C E339096370755F6D6F64656C020022000080FF7F+
	?debug	C 56
	?debug	C E33B0000002D0100011B000E4043435055405072+
	?debug	C 6F6265247176
	?debug	C E33D0000002D1A00011B000E4043435055402462+
	?debug	C 637472247176
	?debug	C E33F0000002D0100011B000E4043435055402462+
	?debug	C 647472247176
	?debug	C E3410000002D3700011B00154043435055404172+
	?debug	C 63686974656374757265247176
	?debug	C E3430000002D0C00011B000C4043435055404352+
	?debug	C 30247176
	?debug	C E3450000002D0100011B000D4043435055404352+
	?debug	C 302471756C
	?debug	C E3470000002D0100011B00154043435055404461+
	?debug	C 74615365676D656E7424717573
	?debug	C E3490000002D0C00011B000F4043435055404546+
	?debug	C 6C616773247176
	?debug	C E34B0000002D0100011B00104043435055404546+
	?debug	C 6C6167732471756C
	?debug	C E34D0000002D0A00011B000E404343505540466C+
	?debug	C 616773247176
	?debug	C E34F0000002D0100011B000F404343505540466C+
	?debug	C 61677324717573
	?debug	C E3510000002D0100011B001E404343505540496E+
	?debug	C 737472756374696F6E506F696E74657224717573+
	?debug	C 756C
	?debug	C E35304626F6F6C020022000080FF7F5D
	?debug	C E3550000002D5300011B001A404343505540496E+
	?debug	C 7465727275707473456E61626C6564247176
	?debug	C E3570000002D0100011B001E404343505540496E+
	?debug	C 7465727275707473456E61626C6564247134626F+
	?debug	C 6F6C
	?debug	C E3590000002D5300011B00154043435055404973+
	?debug	C 436F6D70617469626C65247176
	?debug	C E35B000200341904
	?debug	C E35C0000002D5B00011B000C4043435055404744+
	?debug	C 54247176
	?debug	C E35E0000002D0100011B00104043435055404744+
	?debug	C 54522471756C7573
	?debug	C E3600000002D3900011B000E4043435055404D6F+
	?debug	C 64656C247176
	?debug	C E3620000002D0A00011B000C4043435055404D53+
	?debug	C 57247176
	?debug	C E3640000002D0100011B000D4043435055404D53+
	?debug	C 5724717573
	?debug	C E3660000002D5300011B001A4043435055405072+
	?debug	C 6F74656374696F6E456E61626C6564247176
	?debug	C E3680000002D0100011B001E4043435055405072+
	?debug	C 6F74656374696F6E456E61626C6564247134626F+
	?debug	C 6F6C
	?debug	C E36A0000002D0400011B00104043435055405265+
	?debug	C 73746F7265247176
	?debug	C E36C0000002D0100011B000D4043435055405361+
	?debug	C 7665247176
	?debug	C E36E0000002D0800011B0011404343505540576F+
	?debug	C 726453697A65247176
	extrn	N_OVERFLOW@:far
	extrn	___brklvl:far
	extrn	@CCPU@GDTR$qulus:near
	public	@CGDT@AddSegment$qucuculul
	extrn	@CDescriptorTable@Limit$qv:near
	extrn	@CDescriptorTable@CPU$qv:near
	extrn	@CDescriptorTable@Base$qv:near
	extrn	@CDescriptorTable@AddSegment$qucuculul:near
_s@	equ	s@
	?debug	C EA0508
	?debug	C E37000000023040500
	?debug	C EB0B4E5F4F564552464C4F57407000
	?debug	C EB095F5F5F62726B6C766C7000
	?debug	C E3710C434170706C69636174696F6E42002E05
	?debug	C ED000500005F0000
	?debug	C E3720000002D0C000171001940434170706C6963+
	?debug	C 6174696F6E40436F646542617365247176
	?debug	C E3740000002D0C000171001A40434170706C6963+
	?debug	C 6174696F6E40436F64654C696D6974247176
	?debug	C E376000200341B04
	?debug	C E3770000002D76000171001440434170706C6963+
	?debug	C 6174696F6E40435055247176
	?debug	C E3790000002D0C000171001940434170706C6963+
	?debug	C 6174696F6E404461746142617365247176
	?debug	C E37B0000002D0C000171001A40434170706C6963+
	?debug	C 6174696F6E40446174614C696D6974247176
	?debug	C E37D0000002D0C000171001B40434170706C6963+
	?debug	C 6174696F6E40456E747279506F696E74247176
	?debug	C E37F0000002D04000171001440434170706C6963+
	?debug	C 6174696F6E4052756E247176
	?debug	C E38081095F68656170696E666F06001E68
	?debug	C E38082000200150404
	?debug	C E380830868656170696E666F06001E6C
	?debug	C E38084000200150104
	?debug	C E380850B66617268656170696E666F0A001E70
	?debug	C E38086000400160101
	?debug	C E3808710535461626C6544657363726970746F72+
	?debug	C 06001E74
	?debug	C E380880D53466172506F696E746572333206001E+
	?debug	C 77
	?debug	C E380890D53466172506F696E746572313604001E+
	?debug	C 7A
	?debug	C E6095F48454150494E464F808106000673697A65+
	?debug	C 5F740A060009707472646966665F74040600064F+
	?debug	C 46465345540C06000544574F52440C0600074144+
	?debug	C 44524553530C060004574F52440A06000853454C+
	?debug	C 4543544F520A0600075345475459504508060004+
	?debug	C 52494E4708060004425954450806000C43417070+
	?debug	C 6C69636174696F6E710700096370755F6D6F6465+
	?debug	C 6C390700106370755F6172636869746563747572+
	?debug	C 65370700095F68656170696E666F808107000868+
	?debug	C 656170696E666F808307000B6661726865617069+
	?debug	C 6E666F8085070004626F6F6C5307000443474454+
	?debug	C 19070004434350551B0700104344657363726970+
	?debug	C 746F725461626C651C07000B5344657363726970+
	?debug	C 746F721E070010535461626C6544657363726970+
	?debug	C 746F72808707000D53466172506F696E74657233+
	?debug	C 32808807000D53466172506F696E746572313680+
	?debug	C 890700
	?debug	C E200066D5F704350551A00086D5F705461626C65+
	?debug	C 1D00126D5F6944657363726970746F72436F756E+
	?debug	C 740A4823404344657363726970746F725461626C+
	?debug	C 6540416C6C6F636174655461626C652471757320+
	?debug	C 4837404344657363726970746F725461626C6540+
	?debug	C 53657444657363726970746F7224717031315344+
	?debug	C 657363726970746F7275637563756C756C224839+
	?debug	C 404344657363726970746F725461626C65405365+
	?debug	C 744D656D6F727944657363726970746F72247170+
	?debug	C 31315344657363726970746F72756C756C244A1A+
	?debug	C 404344657363726970746F725461626C65402462+
	?debug	C 63747224717627491A404344657363726970746F+
	?debug	C 725461626C654024626474722471762948264043+
	?debug	C 44657363726970746F725461626C654041646453+
	?debug	C 65676D656E74247175637563756C756C2B481940+
	?debug	C 4344657363726970746F725461626C6540426173+
	?debug	C 652471762D4818404344657363726970746F7254+
	?debug	C 61626C65404350552471762F481D404344657363+
	?debug	C 726970746F725461626C65404350552471703443+
	?debug	C 43505531481A404344657363726970746F725461+
	?debug	C 626C65404C696D697424717633C006000000
	?debug	C E2000A6C696D69745F305F31350A400000000000+
	?debug	C 0B6F66667365745F305F31350A0009626173655F+
	?debug	C 305F31350A4002000000000873656C6563746F72+
	?debug	C 0A000A626173655F31365F323308040474797065+
	?debug	C 080105647479706508020364706C080107707265+
	?debug	C 73656E7408000A617474726962757465731F4006+
	?debug	C 000000000C6F66667365745F31365F33310AC008+
	?debug	C 000000
	?debug	C E2040B6C696D69745F31365F3139080109617661+
	?debug	C 696C61626C650801047A65726F0801016408010B+
	?debug	C 6772616E756C617269747908000A626173655F32+
	?debug	C 345F333108C002000000
	?debug	C E2481A4043474454404164645365676D656E7424+
	?debug	C 7175637563756C756C35C006000000
	?debug	C E200036561780C00036562780C00036563780C00+
	?debug	C 036564780C00036564690C00036573690C000365+
	?debug	C 62700C00036573700C000264730A000265730A00+
	?debug	C 0266730A000267730A000665666C6167730C0003+
	?debug	C 6372300C00036372320C00036372330C00056D5F+
	?debug	C 47445419000F6D5F654172636869746563747572+
	?debug	C 653700086D5F654D6F64656C39480E4043435055+
	?debug	C 4050726F62652471763B4A0E4043435055402462+
	?debug	C 6374722471763D490E4043435055402462647472+
	?debug	C 2471763F48154043435055404172636869746563+
	?debug	C 7475726524717641480C40434350554043523024+
	?debug	C 717643480D4043435055404352302471756C4548+
	?debug	C 15404343505540446174615365676D656E742471+
	?debug	C 757347480F40434350554045466C616773247176+
	?debug	C 49481040434350554045466C6167732471756C4B+
	?debug	C 480E404343505540466C6167732471764D480F40+
	?debug	C 4343505540466C616773247175734F481E404343+
	?debug	C 505540496E737472756374696F6E506F696E7465+
	?debug	C 7224717573756C51481A404343505540496E7465+
	?debug	C 727275707473456E61626C656424717655481E40+
	?debug	C 4343505540496E7465727275707473456E61626C+
	?debug	C 6564247134626F6F6C5748154043435055404973+
	?debug	C 436F6D70617469626C6524717659480C40434350+
	?debug	C 55404744542471765C4810404343505540474454+
	?debug	C 522471756C75735E480E4043435055404D6F6465+
	?debug	C 6C24717660480C4043435055404D535724717662+
	?debug	C 480D4043435055404D53572471757364481A4043+
	?debug	C 4350554050726F74656374696F6E456E61626C65+
	?debug	C 6424717666481E40434350554050726F74656374+
	?debug	C 696F6E456E61626C6564247134626F6F6C684810+
	?debug	C 404343505540526573746F72652471766A480D40+
	?debug	C 4343505540536176652471766C48114043435055+
	?debug	C 40576F726453697A652471766EC042000000
	?debug	C E4000743415F4E554C4C0000800743415F494150+
	?debug	C 580100
	?debug	C E40007434D5F4E554C4C00000008434D5F493830+
	?debug	C 383601000009434D5F4938303238360200000943+
	?debug	C 4D5F49383033383603000009434D5F4938303438+
	?debug	C 360400000A434D5F50454E5449554D0500800E43+
	?debug	C 4D5F50454E5449554D5F50524F0600
	?debug	C E4000566616C736500008004747275650100
	?debug	C E200056D5F4350551B481940434170706C696361+
	?debug	C 74696F6E40436F64654261736524717672481A40+
	?debug	C 434170706C69636174696F6E40436F64654C696D+
	?debug	C 697424717674481440434170706C69636174696F+
	?debug	C 6E4043505524717677481940434170706C696361+
	?debug	C 74696F6E40446174614261736524717679481A40+
	?debug	C 434170706C69636174696F6E40446174614C696D+
	?debug	C 69742471767B481B40434170706C69636174696F+
	?debug	C 6E40456E747279506F696E742471767D48144043+
	?debug	C 4170706C69636174696F6E4052756E2471767FC0+
	?debug	C 42000000
	?debug	C E200075F70656E747279808200055F73697A650A+
	?debug	C 00085F757365666C616704C006000000
	?debug	C E200037074728084000473697A650A0006696E5F+
	?debug	C 75736504C006000000
	?debug	C E200037074728086000473697A650C0006696E5F+
	?debug	C 75736504C00A000000
	?debug	C E200056C696D69740A0004626173650CC0060000+
	?debug	C 00
	?debug	C E200066F66667365740C000873656C6563746F72+
	?debug	C 0AC006000000
	?debug	C E200066F66667365740A000873656C6563746F72+
	?debug	C 0AC004000000
	end
